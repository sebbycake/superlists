{% extends 'base.html' %}

{% load tz %}

{% block header_class %}
header animate__animated animate__slideInDown
{% endblock %}

{% block header_text %}
{{ list.name | title }}
{% endblock %}

{% block content %}

<!-- display error message -->
<div class="item-error-msg" role="alert">
</div>

<!-- display form -->
{% if non_user_exists or user_exists %}
<div class="input-form">
    <form action="{% url 'list_detail' list.id list.slug %}" method="post" id="item-create-form" data-id="{{ list.id }}">
        {{ form.text }}
        {% csrf_token %}
    </form>
</div>
{% endif %}

<!-- display all items from this list -->
<div class="item-list">

    {% for item in list.item_set.all %}
    <div class="item animate__animated animate__fadeIn">

        {{ item.text }}</br>

        <!-- display item timestamp -->
        {% timezone "Asia/Singapore" %}
        <span class="item-timestamp">
            {{ item.timestamp|time:"P" }} | {{ item.timestamp|date:"d M" }}
        </span>
        {% endtimezone %}

        <!-- button to delete item -->
        {% if non_user_exists or user_exists %}
        <span class="delete-item-btn" data-id="{{ item.id }}">
            <i class="material-icons" style="color:#fff">delete_outline</i>
        </span>
        {% endif %}

    </div>
    {% endfor %}

</div>

<br />

{% endblock %}